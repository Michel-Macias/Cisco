# Metodologías y Marcos de Referencia en Pentesting y Seguridad

En el ámbito de la ciberseguridad, no podemos atacar (ni defender) un sistema "a ciegas". Existen metodologías y marcos de referencia (frameworks) consolidados por la industria que sirven como guías paso a paso para asegurar que una auditoría o prueba de penetración sea exhaustiva, repetible y profesional.

A continuación, comparamos cuatro de los estándares más relevantes en la actualidad: **PTES**, **OSSTMM**, **MITRE ATT&CK** y **OWASP WSTG**.

---

## 1. Mapeo General y Enfoque

| Marco / Metodología | Enfoque Principal | ¿Para qué sirve? | Fases / Conceptos Clave |
| :--- | :--- | :--- | :--- |
| **PTES** (Penetration Testing Execution Standard) | **El proceso del Pentest** (de principio a fin). | Es el mapa de ruta estándar para ejecutar una prueba de penetración profesional. Define *qué* hacer en cada etapa técnica y de gestión. | 1. Pre-acuerdo, 2. Recolección de Inteligencia, 3. Modelado de Amenazas, 4. Análisis de Vulnerabilidades, 5. Explotación, 6. Post-Explotación, 7. Reporte. |
| **OSSTMM** (Open Source Security Testing Methodology Manual) | **Cuantificar la Seguridad Operacional** (Métricas). | Muy enfocado en auditar la seguridad desde un plano científico y medible (métricas matemáticas como *RAV*). Verifica controles de seguridad física, humana (ingeniería social), telecomunicaciones y redes. | Seguridad Física, Comunicaciones, Seguridad Inalámbrica, Redes de Datos, Seguridad Humana (SecOps). |
| **OWASP WSTG** (Web Security Testing Guide) | **Auditoría de Aplicaciones Web**. | Es la biblia para pentesting web. Proporciona técnicas de prueba específicas para encontrar vulnerabilidades en aplicaciones en sus distintas capas (autenticación, sesión, inyección, etc.). | Recopilación de información, Pruebas de Configuración, Autenticación, Gestión de Sesiones, Autorización, Validación de Entrada (Inyecciones), Criptografía, etc. |
| **MITRE ATT&CK** (Adversarial Tactics, Techniques, and Common Knowledge) | **Comportamiento del Atacante** (Tácticas y Técnicas). | No es una metodología de pentesting per se, sino una enorme base de conocimiento de cómo operan los cibercriminales (APT) en el mundo real. Fundamental para Blue Teams (Defensa) y Red Teams (Emulación de adversarios). | 14 Tácticas (Reconocimiento, Acceso Inicial, Ejecución, Persistencia, Evasión de Defensas, Robo de Credenciales, etc.) y cientos de Técnicas. |

---

## 2. Resumen Ejecutivo de cada Marco

### 2.1. PTES (Penetration Testing Execution Standard)
- **Qué aporta:** Orden y estructura. Evita que un pentest sea solo "correr Nessus y Metasploit". Obliga a modelar amenazas de la lógica de negocio y a entregar reportes útiles (tanto técnicos como ejecutivos).
- **En la vida real:** Es el estándar que usarás para justificar las fases de tu trabajo ante un cliente. "Señor cliente, estamos en la fase 5 de PTES: Explotación".

### 2.2. OSSTMM (Open Source Security Testing Methodology Manual)
- **Qué aporta:** Rigurosidad y métricas. Propone que la seguridad se puede medir numéricamente para ver si un parche o control realmente mejora la postura defensiva. Destaca mucho por no limitarse solo a lo digital (incluye seguridad física humana, RFID, etc.).
- **En la vida real:** Se usa en auditorías muy formales o gubernamentales donde se requiere un enfoque métrico y de cumplimiento normativo exhaustivo sobre controles de acceso (físico y lógico).

### 2.3. OWASP WSTG (Web Security Testing Guide)
- **Qué aporta:** Profundidad técnica en entornos web. Si vas a auditar una web o API, PTES te dice *que* debes auditar vulnerabilidades, pero OWASP te dice *cómo* hacerlo paso a paso para buscar SQLi, XSS, CSRF, etc.
- **En la vida real:** Imprescindible. Cualquier reporte de un pentest web profesional mapeará las vulnerabilidades encontradas contra el Top 10 de OWASP y utilizará la guía WSTG como checklist técnico.

### 2.4. MITRE ATT&CK
- **Qué aporta:** Contexto adversario. Nos permite hablar el mismo idioma a la hora de describir un ataque. Describe de forma granular las técnicas que usan los atacantes una vez están dentro de la red (persistencia, movimiento lateral).
- **En la vida real:** Si logras comprometer un servidor y elevas privilegios engañando a un binario con SUID, en tu reporte pondrás que ejecutaste la técnica `T1548.001 - Setuid and Setgid` de MITRE ATT&CK. Esto ayuda a los defensores a saber exactamente qué reglas SIEM crear para detectarte a futuro.

---

## 3. ¿Cómo encajan todas juntas en una auditoría?

Puedes imaginar un Pentest perfecto como un puzzle donde todas estas piezas encajan:

1. Utilizas **PTES** para estructurar las 7 fases de todo el proyecto (desde la firma del contrato hasta el PDF final).
2. Durante la *Fase 4 (Análisis de Vulnerabilidades)* de PTES, si el objetivo es un portal web corporativo, sacas tu checklist de **OWASP WSTG** para no dejarte ni un solo vector web sin probar.
3. Si la auditoría incluye revisar que los guardias de seguridad del edificio no dejan entrar a oficinistas falsos (Ingeniería Social Físico), te apoyas en las guías de **OSSTMM**.
4. Y durante la *Fase 5 y 6 (Explotación y Post-Explotación)* de PTES, decides emular a un grupo de ransomware ruso para ver si el EDR del cliente lo detecta, ejecutando las tácticas y técnicas documentadas en **MITRE ATT&CK**.

---
**Nota del Mentor:** Este es un resumen condensado. Cada uno de estos marcos tiene cientos de páginas de documentación técnica. Para el examen y la vida real, lo importante es entender el *propósito* (el "para qué") de cada uno.
